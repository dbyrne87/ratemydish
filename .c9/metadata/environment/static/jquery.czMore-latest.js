{"filter":false,"title":"jquery.czMore-latest.js","tooltip":"/static/jquery.czMore-latest.js","undoManager":{"mark":96,"position":96,"stack":[[{"start":{"row":0,"column":0},"end":{"row":138,"column":11},"action":"insert","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 5,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = obj.children(\".recordset\").size();","            var divPlus = '<div id=\"btnPlus\" />';","            var count = '<input id=\"' + this.id + '_czMore_txtCount\" name=\"' + this.id + '_czMore_txtCount\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            btnPlus.css({","                'float': 'right',","                'border': '0px',","                'background-image': 'url(\"img/add.png\")',","                'background-position': 'center center',","                'background-repeat': 'no-repeat',","                'height': '25px',","                'width': '25px',","                'cursor': 'pointer'","            });","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    var i = obj.children(\".recordset\").size();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='czMore_txtCount']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        old_name = this.name;","                        new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                btnMinus.css({","                    'float': 'right',","                    'border': '0px',","                    'background-image': 'url(\"img/remove.png\")',","                    'background-position': 'center center',","                    'background-repeat': 'no-repeat',","                    'height': '25px',","                    'width': '25px',","                    'cursor': 'poitnter'","                });","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = obj.children(\".recordset\").size();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='czMore_txtCount']\").val(obj.children(\".recordset\").size());","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","        });","    };","})(jQuery);"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":138,"column":11},"action":"remove","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 5,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = obj.children(\".recordset\").size();","            var divPlus = '<div id=\"btnPlus\" />';","            var count = '<input id=\"' + this.id + '_czMore_txtCount\" name=\"' + this.id + '_czMore_txtCount\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            btnPlus.css({","                'float': 'right',","                'border': '0px',","                'background-image': 'url(\"img/add.png\")',","                'background-position': 'center center',","                'background-repeat': 'no-repeat',","                'height': '25px',","                'width': '25px',","                'cursor': 'pointer'","            });","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    var i = obj.children(\".recordset\").size();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='czMore_txtCount']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        old_name = this.name;","                        new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                btnMinus.css({","                    'float': 'right',","                    'border': '0px',","                    'background-image': 'url(\"img/remove.png\")',","                    'background-position': 'center center',","                    'background-repeat': 'no-repeat',","                    'height': '25px',","                    'width': '25px',","                    'cursor': 'poitnter'","                });","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = obj.children(\".recordset\").size();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='czMore_txtCount']\").val(obj.children(\".recordset\").size());","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","        });","    };","})(jQuery);"],"id":5},{"start":{"row":0,"column":0},"end":{"row":157,"column":11},"action":"insert","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    \"use strict\";","","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCount',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlus\" class=\"btnPlus\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefix + '\" name=\"' + this.id + options.countFieldPrefix + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            if(!options.styleOverride) {","              btnPlus.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"img/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" class=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                if(!options.styleOverride) {","                  btnMinus.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"img/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","})(jQuery);"]}],[{"start":{"row":0,"column":0},"end":{"row":157,"column":11},"action":"remove","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    \"use strict\";","","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCount',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlus\" class=\"btnPlus\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefix + '\" name=\"' + this.id + options.countFieldPrefix + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            if(!options.styleOverride) {","              btnPlus.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"img/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" class=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                if(!options.styleOverride) {","                  btnMinus.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"img/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","})(jQuery);"],"id":6},{"start":{"row":0,"column":0},"end":{"row":157,"column":11},"action":"insert","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    \"use strict\";","","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCount',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlus\" class=\"btnPlus\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefix + '\" name=\"' + this.id + options.countFieldPrefix + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            if(!options.styleOverride) {","              btnPlus.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"img/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" class=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                if(!options.styleOverride) {","                  btnMinus.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"img/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","})(jQuery);"]}],[{"start":{"row":52,"column":44},"end":{"row":52,"column":55},"action":"remove","lines":["img/add.png"],"id":7},{"start":{"row":52,"column":44},"end":{"row":52,"column":65},"action":"insert","lines":["/static/media/add.png"]}],[{"start":{"row":123,"column":48},"end":{"row":123,"column":62},"action":"remove","lines":["img/remove.png"],"id":8},{"start":{"row":123,"column":48},"end":{"row":123,"column":72},"action":"insert","lines":["/static/media/remove.png"]}],[{"start":{"row":0,"column":0},"end":{"row":157,"column":11},"action":"remove","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    \"use strict\";","","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCount',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlus\" class=\"btnPlus\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefix + '\" name=\"' + this.id + options.countFieldPrefix + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            if(!options.styleOverride) {","              btnPlus.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"/static/media/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" class=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                if(!options.styleOverride) {","                  btnMinus.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"/static/media/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","})(jQuery);"],"id":9}],[{"start":{"row":0,"column":0},"end":{"row":561,"column":11},"action":"insert","lines":["/**"," * @copyright"," *  This program is free software: you can redistribute it and/or modify"," *  it under the terms of the GNU General Public License as published by"," *  the Free Software Foundation, either version 3 of the License, or"," *  (at your option) any later version."," *  "," *  This program is distributed in the hope that it will be useful,"," *  but WITHOUT ANY WARRANTY; without even the implied warranty of"," *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the"," *  GNU General Public License for more details."," *  "," *  You should have received a copy of the GNU General Public License"," *  along with this program.  If not, see <http://www.gnu.org/licenses/>."," *  "," * @author Stephane Roucheray"," * @see Plugin Page   : http://code.google.com/p/jquery-dynamic-form/"," * @see Author's Blog : http://sroucheray.org"," * @see Follow author : http://twitter.com/sroucheray"," * @extends jQuery (requires at version >= 1.4)"," * @version 1.0.3"," */","(function($){","/**"," * @param {String} plusSelector HTML element serving the duplication when clicking on it"," * @param {String} minusSelector HTML element deleting the cloned form element"," * @param {Object} options Optional object, can contain any of the parameters below : "," *     limit      {Number}   : maximum number of duplicate fields authorized"," *     formPrefix {String}   : the prefix used to identify a form (if not defined will use normalized source selector)"," *     afterClone {Function} : a callback function called as soon as a duplication is done,"," *       this is useful for custom insertion (you can insert the duplicate anywhere in the DOM), "," *       inserting specific validation on cloned field"," *       - this function will be passed the cloned element as a unique parameter"," *       - return false if the cloned element should not be inserted"," *     normalizeFullForm {Boolean} : normalize all fields in the form (even outside the template) for better server side script handling (default true)"," *     "," *     createColor {String} : color effect when duplicating (requires jQuery UI Effects module)"," *     removeColor {String} : color effect when removing duplicate (idem)"," *     duration    {Number} : color effect duration (idem)"," *     "," *     data        {Object} : A JSON based representation of the data which will prefill the form (equivalent of the inject method)"," *     "," */","$.fn.dynamicForm = function (selectedTarget, plusSelector, minusSelector, options){","\tvar source = $(this),","\tminus,","\tplus,","\ttemplate,","\tformFields = \"input, checkbox, select, textarea,_token\",","\tclones = [],","\tdefaults = {","\t\tduration:1000,","\t\tnormalizeFullForm:true,","\t\tisSubDynamicForm:false","\t},","\tsubDynamicForm = [],","\tsubDynamicIndex = [],","\tindex = 0,","\tformPrefix;","\t","\t// Set plus and minus elements within sub dynamic form clones","\tif(options.internalSubDynamicForm){","\t\tminus = $(options.internalContainer).find(minusSelector);","\t\tplus = $(options.internalContainer).find(plusSelector);","\t}else{\t//Set normal plus an minus element","\t\tminus = $(minusSelector);","\t\tplus = $(plusSelector);","\t}","\t","\t// Extend default options with those provided","\toptions = $.extend(defaults, options);","\t//Set the form prefix","\tformPrefix = options.formPrefix || source.selector.replace(/\\W/g, \"\");","\t","\t","\t/**","\t * Clone the form template","\t */","\tfunction cloneTemplate(disableEffect){","\t\tvar clone, callBackReturn;","\t\tclone = template.cloneWithAttribut(true);","\t\t","\t\tif (typeof options.afterClone === \"function\") {","\t\t\tcallBackReturn = options.afterClone(clone);","\t\t}","\t\t","\t\tif(callBackReturn || typeof callBackReturn == \"undefined\"){","\t\t\tclone.insertAfter(clones[clones.length - 1] || source);","\t\t}","\t\t","\t\tclone.getSource = function(){","\t\t\treturn source;","\t\t};","","\t\t/* Normalize template id attribute */","\t\tif (clone.attr(\"id\")) {","\t\t\tclone.attr(\"id\", clone.attr(\"id\") + clones.length);","\t\t}","","\t\tif (clone.effect && options.createColor && !disableEffect) {","\t\t\tclone.effect(\"highlight\", {color:options.createColor}, options.duration);","\t\t}","\t\t","\t\tif (clones.length === 0){","\t\t\tsource.find(minusSelector).show();","\t\t}","","\t\treturn clone;","\t}","\t","\t/**","\t * On cloning make the form under the clone dynamic","\t * @param {Object} clone","\t */","\tfunction dynamiseSubClones(clone){","\t\t$(subDynamicForm).each(function(){","\t\t\tvar plus = this.getPlusSelector(), minus = this.getMinusSelector(), options = this.getOptions(), selector = this.selector;","\t\t\tclone.find(this.selector).each(function(){","\t\t\t\toptions = $.extend(","\t\t\t\t\t{","\t\t\t\t\t\tinternalSubDynamicForm:true, ","\t\t\t\t\t\tinternalContainer:clone, ","\t\t\t\t\t\tisInAClone:true, ","\t\t\t\t\t\touterCloneIndex:clones.length,","\t\t\t\t\t\tselector:selector","\t\t\t\t\t}, options);","\t\t\t\t$(this).dynamicForm(plus, minus, options);","\t\t\t});","\t\t});","\t}","\t","\t/**","\t * Handle click on plus when plus element is inside the template","\t * @param {Object} event","\t */","\tfunction innerClickOnPlus(event, extraParams){","\t\tvar clone,","\t\tcurrentClone = clones[clones.length -1] || source;","\t\tevent.preventDefault();","","\t\tsubDynamicIndex.push(index + 1);","\t\tindex = subDynamicIndex[subDynamicIndex.length-1];","","\t\tcurrentClone.find(minusSelector).show();","\t\tcurrentClone.find(plusSelector).hide();","","\t\tif (clones.length === 0) {","\t\t\tsource.find(minusSelector).hide();","\t\t}","\t\t","\t\tclone = cloneTemplate(extraParams);","","\t\tplus = clone.find(plusSelector);","\t\tminus = clone.find(minusSelector);","\t\t","\t\tminus.get(0).removableClone = clone;","\t\tminus.click(innerClickOnMinus);","\t\t","\t\tif (options.limit && (options.limit - 2) > clones.length) {","\t\t\tplus.show();","\t\t\tminus.show();","\t\t}else{","\t\t\tplus.hide();","\t\t\tminus.show();","\t\t}","\t\t","\t\tclones.push(clone);","\t\tnormalizeClone(clone, index);","\t\t","\t\tdynamiseSubClones(clone);","\t}","\t","\t/**","\t * Handle click on plus when plus element is outside the template","\t * @param {Object} event","\t */","\tfunction outerClickOnPlus(event, extraParams){","\t\tvar clone;","\t\t","\t\tevent.preventDefault();","\t\t","\t\t/* On first add, normalize source */","\t\tif (clones.length === 0) {","\t\t\tminus.show();","\t\t}","\t\tclone = cloneTemplate(extraParams);","\t\t","\t\tif (options.limit && (options.limit - 3) < clones.length) {","\t\t\tplus.hide();","\t\t}","\t\t","\t\tclones.push(clone);","\t\t","\t\tnormalizeClone(clone, clones.length);","\t\t","\t\tdynamiseSubClones(clone);","\t}","\t/**","\t * Handle click on minus when minus element is inside the template","\t * @param {Object} event","\t */","\tfunction innerClickOnMinus(event){","\t\tevent.preventDefault();","\t\t","\t\tif (this.removableClone.effect && options.removeColor) {","\t\t\tthat = this;","\t\t\tthis.removableClone.effect(\"highlight\", {","\t\t\t\tcolor: options.removeColor","\t\t\t}, options.duration, function(){that.removableClone.remove();});","\t\t} else {","\t\t","\t\t\tthis.removableClone.remove();","\t\t}","","\t\tremovableCloneId = this.removableClone.attr('id');","\t\t","\t\tcheckId = $.inArray(parseInt(removableCloneId[removableCloneId.length -1]), subDynamicIndex);","\t\tsubDynamicIndex.splice(checkId, 1);","","\t\tclones.splice($.inArray(this.removableClone, clones),1);","","\t\tif ($(selectedTarget).length) {","\t\t\tif (clones.length === 0){","\t\t\t\tsource.find(plusSelector).show();","\t\t\t\tsource.find(minusSelector).hide();","\t\t\t}else{","\t\t\t\tclones[clones.length -1].find(plusSelector).show();","\t\t\t}","\t\t} else {","\t\t\tif (clones.length === 1){","\t\t\t\tclones[0].find(plusSelector).show();","\t\t\t\tclones[0].find(minusSelector).hide();","\t\t\t}else{","\t\t\t\tclones[clones.length -1].find(plusSelector).show();","\t\t\t}","\t\t}","\t}","\t","\t/**","\t * Handle click on minus when minus element is outside the template","\t * @param {Object} event","\t */","\tfunction outerClickOnMinus(event){","\t\tevent.preventDefault();","\t\tvar clone = clones.pop();","\t\tif (clones.length >= 0) {","\t\t\tif (clone.effect && options.removeColor) {","\t\t\t\tthat = this;","\t\t\t\tclone.effect(\"highlight\", {","\t\t\t\t\tcolor: options.removeColor, mode:\"hide\"","\t\t\t\t}, options.duration, function(){clone.remove();});","\t\t\t} else {","\t\t\t\tclone.remove();","\t\t\t}","\t\t}","\t\tif (clones.length === 0) {","\t\t\tminus.hide();","\t\t}","\t\tplus.show();","\t}","\t","\t/**","\t * Normalize ids and name attributes of all children forms fields of an element","\t * @param {Object} elmnt","\t */","\tfunction normalizeSource(elmnt, prefix, index){","\t\telmnt.find(formFields).each(function(){","\t\t\tvar that = $(this), ","\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\torigNameAttr = that.attr(\"origname\"),","\t\t\tidAttr = that.attr(\"id\"),","\t\t\torigId = that.attr(\"origid\");","","\t\t\t/* Normalize field name attributes */","\t\t\tif (!nameAttr) {","\t\t\t\t//TODO: that.attr(\"name\", formPrefix+\"form\"+index + \"[\"+index+\"]\");","\t\t\t}","\t\t\t","\t\t\tif(origNameAttr){","\t\t\t\t//This is a subform (thus prefix is not the same as below)","\t\t\t\tthat.attr(\"name\", prefix+\"[\"+index+\"]\"+\"[\"+origNameAttr+\"]\");","\t\t\t}else{","\t\t\t\t//This is the main form","\t\t\t\tthat.attr(\"origname\", nameAttr);","\t\t\t\t","\t\t\t\t//This is the main normalization","\t\t\t\tthat.attr(\"name\", prefix+\"[\"+index+\"]\"+\"[\"+nameAttr+\"]\");","\t\t\t}","\t\t\t","\t\t\t/* Normalize field id attributes */","\t\t\tif (idAttr) {","\t\t\t\t/* Normalize attached label */","\t\t\t\tthat.attr(\"origid\", idAttr);","\t\t\t\t$(\"label[for='\"+idAttr+\"']\").each(function(){","\t\t\t\t\t$(this).attr(\"origfor\", idAttr);","\t\t\t\t\t$(this).attr(\"for\", idAttr + index);","\t\t\t\t});","\t\t\t\tthat.attr(\"id\", idAttr + index);","\t\t\t}","\t\t});","\t}","\t","\tfunction normalizeClone(elmnt, index){","\t\tvar match, matchRegEx = /(.+\\[[^\\[\\]]+\\]\\[)(\\d+)(\\]\\[[^\\[\\]]+\\])$/;","\t\telmnt.find(formFields).each(function(){","\t\t\tvar that = $(this),","\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\torigNameAttr = that.attr(\"origname\"),","\t\t\tidAttr = that.attr(\"id\"),","\t\t\tnewIdAttr = idAttr.slice(0,-1) + index,","\t\t\tmatch = matchRegEx.exec(nameAttr);","\t\t\tthat.attr(\"name\", match[1]+index+match[3]);","\t\t\t","\t\t\tif (idAttr) {","\t\t\t\tthat.attr(\"origid\", idAttr);","\t\t\t\t","\t\t\t\telmnt.find(\"label[for='\"+idAttr+\"']\").each(function(){","\t\t\t\t\t$(this).attr(\"for\", newIdAttr);","\t\t\t\t});","\t\t\t\tthat.attr(\"id\", newIdAttr);","\t\t\t}","\t\t});","\t}","\t","\tfunction normalizeSubClone(elmnt, formPrefix, index){","\t\tvar match, matchRegEx = /(.+)\\[([^\\[\\]]+)\\]$/;","\t\telmnt.find(formFields).each(function(){","\t\t\tvar that = $(this),","\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\tidAttr = that.attr(\"id\"),","\t\t\tnewIdAttr = idAttr + index,","\t\t\tmatch = matchRegEx.exec(nameAttr);","\t\t\tthat.attr(\"name\", match[1]+\"[\"+formPrefix+\"]\"+\"[\"+index+\"]\"+\"[\"+match[2]+\"]\");","\t\t\t","\t\t\tif (idAttr) {","\t\t\t\tthat.attr(\"origid\", idAttr);","\t\t\t\t","\t\t\t\telmnt.find(\"label[for='\"+idAttr+\"']\").each(function(){","\t\t\t\t\t$(this).attr(\"for\", newIdAttr);","\t\t\t\t});","\t\t\t\tthat.attr(\"id\", newIdAttr);","\t\t\t}","\t\t});","\t}","\t","\t//Add a function to enable sub dynamic forms to register themselves","\tsource.each(function(){","\t\t$.extend(this, {","\t\t\taddSubDynamicForm : function(dynamicForm){","\t\t\t\tsubDynamicForm.push(dynamicForm);","\t\t\t},","\t\t\tgetFormPrefix : function(){","\t\t\t\treturn formPrefix;","\t\t\t},","\t\t\tgetSource : function(){","\t\t\t\treturn source;","\t\t\t}","\t\t});","\t});","\t","\t//Check if this dynamic form is a sub dynamic form","\tvar isMainForm = true;","\t$(this).parentsUntil(\"body\").each(function(){","\t\tif($.isFunction(this.addSubDynamicForm) && !options.isSubDynamicForm){","\t\t\tisMainForm = false;","\t\t\toptions.isSubDynamicForm = true;","\t\t\t","\t\t\tvar suboptions = $.extend(","\t\t\t\t{","\t\t\t\t\tinternalSubDynamicForm:true, ","\t\t\t\t\tinternalContainer:this","\t\t\t\t}, options);","\t\t\tthis.addSubDynamicForm(source);","\t\t\tformPrefix = this.getFormPrefix()+\"[0][\"+formPrefix+\"]\";","\t\t\treturn false;","\t\t}","\t});","\tif(isMainForm && !options.isInAClone){","\t\t//Main form name and prefix for the main form are the same for now","\t\tformPrefix = formPrefix+\"[\"+formPrefix+\"]\";","\t}","\t","\tif(!options.isInAClone){","\t\tnormalizeSource(source, formPrefix, 0);","\t}else{","\t\tformPrefix = formPrefix || options.selector.replace(/\\W/g, \"\");","\t\t//Main form name and prefix for the main form are the same for now","\t\tnormalizeSubClone(source, formPrefix, 0);","\t}","\tif(isMainForm && options.normalizeFullForm && !options.isInAClone){","\t\t//Normalize all forms outside duplicated template in order to ease server-side parsing","\t\t$(this).parentsUntil(\"form\").each(function(){","\t\t\tvar theForm = $(this).parent().get(0);","\t\t\t$(theForm).find(formFields).filter(\"[type!=submit]\").each(function(){","\t\t\t\tvar that = $(this), ","\t\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\t\torigNameAttr = that.attr(\"origname\"),","\t\t\t\tidAttr = that.attr(\"id\"),","\t\t\t\torigId = that.attr(\"origid\");","\t\t\t\t","\t\t\t\tif(!origNameAttr){","\t\t\t\t\t// Normalize field name attributes","\t\t\t\t\tif (!nameAttr) {","\t\t\t\t\t\t//TODO: that.attr(\"name\", formPrefix+\"form\"+index + \"[\"+index+\"]\");","\t\t\t\t\t}","","\t\t\t\t\t//It's the main form","\t\t\t\t\tthat.attr(\"origname\", nameAttr);","\t\t\t\t\t","\t\t\t\t\t//This is the main normalization","\t\t\t\t\tthat.attr(\"name\", formPrefix+\"[\"+nameAttr+\"]\");","\t\t\t\t}","\t\t\t});","\t\t\t","\t\t});","\t}","\t","\tisPlusDescendentOfTemplate = source.find(\"*\").filter(function(){","\t\treturn this == plus.get(0);","\t});","\t","\tisPlusDescendentOfTemplate = isPlusDescendentOfTemplate.length > 0 ? true : false;","\t","\t/* Hide minus element */","\tminus.hide();","\t","\t/* If plus element is within the template */","\tif (isPlusDescendentOfTemplate) {","\t\t/* Handle click on plus */","\t\tplus.click(innerClickOnPlus);","\t\t","\t}else{","\t/* If plus element is out of the template */","\t\t/* Handle click on plus */","\t\tplus.click(outerClickOnPlus);","\t\t","\t\t/* Handle click on minus */","\t\tminus.click(outerClickOnMinus);","\t}","\t","\t$.extend( source, {","\t\tgetPlus : function(){","\t\t\treturn plus;","\t\t},","\t\tgetPlusSelector : function(){","\t\t\treturn plusSelector;","\t\t},","\t\tgetMinus : function(){","\t\t\treturn minus;","\t\t},","\t\tgetMinusSelector : function(){","\t\t\treturn minusSelector;","\t\t},","\t\tgetOptions : function(){","\t\t\treturn options;","\t\t},","\t\tgetClones : function(){","\t\t\tvar clonesAndSource = [source];","\t\t\treturn clonesAndSource.concat(clones);","\t\t},","\t\tgetSource : function(){","\t\t\treturn source;","\t\t},","\t\tinject : function(data){","\t\t\t/**","\t\t\t * Fill data of each main dynamic form clones","\t\t\t * @param {Object} formIndex","\t\t\t * @param {Object} formValue","\t\t\t */","\t\t\t var z = 0;","\t\t\tfunction fillData(formIndex, formValue){","\t\t\t\t//Loop over data form array (each item will match a specific clone)","\t\t\t\tvar mainForm = this;","\t\t\t\t//Shows required additional dynamic forms","\t\t\t\tif(formIndex > 0){","\t\t\t\t\tindex = formIndex - 1;","\t\t\t\t\tmainForm.getSource().getPlus().trigger(\"click\", [\"disableEffect\"]);","\t\t\t\t\tif (z === 0) {","\t\t\t\t\t\tmainForm.get(0).getSource().remove()\t\t\t\t\t\t","\t\t\t\t\t\tmainForm.get(0).getSource().getClones()[1].find(minusSelector).hide()","\t\t\t\t\t}","\t\t\t\t}","","\t\t\t\tvar newArray = mainForm.get(0).getSource().getClones();","\t\t\t\tvar changeArray = [];","\t\t\t\tfor (var i = 0; i < newArray.length; i++) {","\t\t\t\t\t$.each(data, function(key, value){","\t\t\t\t\t\tchangeArray[key] =  newArray[i]","\t\t\t\t\t})","\t\t\t\t}","","\t\t\t\tvar clone = changeArray[formIndex];","\t\t\t\t$.each(formValue, function(index, value){","\t\t\t\t\tif($.isArray(value)){","\t\t\t\t\t\tmainForm = clone.find(\"#\"+index);","\t\t\t\t\t\tif(typeof mainForm.get(0).getSource === \"function\"){","\t\t\t\t\t\t\t$.each(value, $.proxy( fillData, mainForm.get(0).getSource()));","\t\t\t\t\t\t}","","\t\t\t\t\t}else{","\t\t\t\t\t\tvar formElements = changeArray[formIndex].find(\"[origname='\"+index+\"']\");","\t\t\t\t\t\tif(formElements){","\t\t\t\t\t\t\tif(formElements.get(0).tagName.toLowerCase() == \"input\"){","\t\t\t\t\t\t\t\t/* Fill in radio input */","\t\t\t\t\t\t\t\tif(formElements.attr(\"type\") == \"radio\"){","\t\t\t\t\t\t\t\t\tformElements.filter(\"[value='\"+value+\"']\").attr(\"checked\", \"checked\");","\t\t\t\t\t\t\t\t}else if(formElements.attr(\"type\") == \"checkbox\"){/* Fill in checkbox input */","\t\t\t\t\t\t\t\t\tformElements.attr(\"checked\", \"checked\");","\t\t\t\t\t\t\t\t}else{","\t\t\t\t\t\t\t\t\tformElements.attr(\"value\", value);","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t}else if(formElements.get(0).tagName.toLowerCase() == \"textarea\"){","\t\t\t\t\t\t\t\t/* Fill in textarea */","\t\t\t\t\t\t\t\tformElements.text(value);","\t\t\t\t\t\t\t}else if(formElements.get(0).tagName.toLowerCase() == \"select\"){","\t\t\t\t\t\t\t\t/* Fill in select */","\t\t\t\t\t\t\t\t$(formElements.get(0)).find(\"option\").each(function(){","\t\t\t\t\t\t\t\t\tif($(this).text() == value || $(this).attr(\"value\") == value){","\t\t\t\t\t\t\t\t\t\t$(this).attr(\"selected\", \"selected\");","\t\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\t});","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t});","\t\t\t\tz++;","\t\t\t}","\t\t\t//Loop over each form","\t\t\t$.each(data, $.proxy( fillData, source ));","\t\t}","\t});","\t","\ttemplate = source.cloneWithAttribut(true);","\t","\tif(options.data){","\t\tsource.inject(options.data);","\t}","\t","\treturn source;","};","","/**"," * jQuery original clone method decorated in order to fix an IE < 8 issue"," * where attributs especially name are not copied "," */","jQuery.fn.cloneWithAttribut = function( withDataAndEvents ){","\tif ( jQuery.support.noCloneEvent ){","\t\treturn $(this).clone(withDataAndEvents);","\t}else{","\t\t$(this).find(\"*\").each(function(){","\t\t\t$(this).data(\"name\", $(this).attr(\"name\"));","\t\t});","\t\tvar clone = $(this).clone(withDataAndEvents);","\t\t","\t\tclone.find(\"*\").each(function(){","\t\t\t$(this).attr(\"name\", $(this).data(\"name\"));","\t\t});","\t\t","\t\treturn clone;","\t}","};","})(jQuery);"],"id":10}],[{"start":{"row":0,"column":0},"end":{"row":561,"column":11},"action":"remove","lines":["/**"," * @copyright"," *  This program is free software: you can redistribute it and/or modify"," *  it under the terms of the GNU General Public License as published by"," *  the Free Software Foundation, either version 3 of the License, or"," *  (at your option) any later version."," *  "," *  This program is distributed in the hope that it will be useful,"," *  but WITHOUT ANY WARRANTY; without even the implied warranty of"," *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the"," *  GNU General Public License for more details."," *  "," *  You should have received a copy of the GNU General Public License"," *  along with this program.  If not, see <http://www.gnu.org/licenses/>."," *  "," * @author Stephane Roucheray"," * @see Plugin Page   : http://code.google.com/p/jquery-dynamic-form/"," * @see Author's Blog : http://sroucheray.org"," * @see Follow author : http://twitter.com/sroucheray"," * @extends jQuery (requires at version >= 1.4)"," * @version 1.0.3"," */","(function($){","/**"," * @param {String} plusSelector HTML element serving the duplication when clicking on it"," * @param {String} minusSelector HTML element deleting the cloned form element"," * @param {Object} options Optional object, can contain any of the parameters below : "," *     limit      {Number}   : maximum number of duplicate fields authorized"," *     formPrefix {String}   : the prefix used to identify a form (if not defined will use normalized source selector)"," *     afterClone {Function} : a callback function called as soon as a duplication is done,"," *       this is useful for custom insertion (you can insert the duplicate anywhere in the DOM), "," *       inserting specific validation on cloned field"," *       - this function will be passed the cloned element as a unique parameter"," *       - return false if the cloned element should not be inserted"," *     normalizeFullForm {Boolean} : normalize all fields in the form (even outside the template) for better server side script handling (default true)"," *     "," *     createColor {String} : color effect when duplicating (requires jQuery UI Effects module)"," *     removeColor {String} : color effect when removing duplicate (idem)"," *     duration    {Number} : color effect duration (idem)"," *     "," *     data        {Object} : A JSON based representation of the data which will prefill the form (equivalent of the inject method)"," *     "," */","$.fn.dynamicForm = function (selectedTarget, plusSelector, minusSelector, options){","\tvar source = $(this),","\tminus,","\tplus,","\ttemplate,","\tformFields = \"input, checkbox, select, textarea,_token\",","\tclones = [],","\tdefaults = {","\t\tduration:1000,","\t\tnormalizeFullForm:true,","\t\tisSubDynamicForm:false","\t},","\tsubDynamicForm = [],","\tsubDynamicIndex = [],","\tindex = 0,","\tformPrefix;","\t","\t// Set plus and minus elements within sub dynamic form clones","\tif(options.internalSubDynamicForm){","\t\tminus = $(options.internalContainer).find(minusSelector);","\t\tplus = $(options.internalContainer).find(plusSelector);","\t}else{\t//Set normal plus an minus element","\t\tminus = $(minusSelector);","\t\tplus = $(plusSelector);","\t}","\t","\t// Extend default options with those provided","\toptions = $.extend(defaults, options);","\t//Set the form prefix","\tformPrefix = options.formPrefix || source.selector.replace(/\\W/g, \"\");","\t","\t","\t/**","\t * Clone the form template","\t */","\tfunction cloneTemplate(disableEffect){","\t\tvar clone, callBackReturn;","\t\tclone = template.cloneWithAttribut(true);","\t\t","\t\tif (typeof options.afterClone === \"function\") {","\t\t\tcallBackReturn = options.afterClone(clone);","\t\t}","\t\t","\t\tif(callBackReturn || typeof callBackReturn == \"undefined\"){","\t\t\tclone.insertAfter(clones[clones.length - 1] || source);","\t\t}","\t\t","\t\tclone.getSource = function(){","\t\t\treturn source;","\t\t};","","\t\t/* Normalize template id attribute */","\t\tif (clone.attr(\"id\")) {","\t\t\tclone.attr(\"id\", clone.attr(\"id\") + clones.length);","\t\t}","","\t\tif (clone.effect && options.createColor && !disableEffect) {","\t\t\tclone.effect(\"highlight\", {color:options.createColor}, options.duration);","\t\t}","\t\t","\t\tif (clones.length === 0){","\t\t\tsource.find(minusSelector).show();","\t\t}","","\t\treturn clone;","\t}","\t","\t/**","\t * On cloning make the form under the clone dynamic","\t * @param {Object} clone","\t */","\tfunction dynamiseSubClones(clone){","\t\t$(subDynamicForm).each(function(){","\t\t\tvar plus = this.getPlusSelector(), minus = this.getMinusSelector(), options = this.getOptions(), selector = this.selector;","\t\t\tclone.find(this.selector).each(function(){","\t\t\t\toptions = $.extend(","\t\t\t\t\t{","\t\t\t\t\t\tinternalSubDynamicForm:true, ","\t\t\t\t\t\tinternalContainer:clone, ","\t\t\t\t\t\tisInAClone:true, ","\t\t\t\t\t\touterCloneIndex:clones.length,","\t\t\t\t\t\tselector:selector","\t\t\t\t\t}, options);","\t\t\t\t$(this).dynamicForm(plus, minus, options);","\t\t\t});","\t\t});","\t}","\t","\t/**","\t * Handle click on plus when plus element is inside the template","\t * @param {Object} event","\t */","\tfunction innerClickOnPlus(event, extraParams){","\t\tvar clone,","\t\tcurrentClone = clones[clones.length -1] || source;","\t\tevent.preventDefault();","","\t\tsubDynamicIndex.push(index + 1);","\t\tindex = subDynamicIndex[subDynamicIndex.length-1];","","\t\tcurrentClone.find(minusSelector).show();","\t\tcurrentClone.find(plusSelector).hide();","","\t\tif (clones.length === 0) {","\t\t\tsource.find(minusSelector).hide();","\t\t}","\t\t","\t\tclone = cloneTemplate(extraParams);","","\t\tplus = clone.find(plusSelector);","\t\tminus = clone.find(minusSelector);","\t\t","\t\tminus.get(0).removableClone = clone;","\t\tminus.click(innerClickOnMinus);","\t\t","\t\tif (options.limit && (options.limit - 2) > clones.length) {","\t\t\tplus.show();","\t\t\tminus.show();","\t\t}else{","\t\t\tplus.hide();","\t\t\tminus.show();","\t\t}","\t\t","\t\tclones.push(clone);","\t\tnormalizeClone(clone, index);","\t\t","\t\tdynamiseSubClones(clone);","\t}","\t","\t/**","\t * Handle click on plus when plus element is outside the template","\t * @param {Object} event","\t */","\tfunction outerClickOnPlus(event, extraParams){","\t\tvar clone;","\t\t","\t\tevent.preventDefault();","\t\t","\t\t/* On first add, normalize source */","\t\tif (clones.length === 0) {","\t\t\tminus.show();","\t\t}","\t\tclone = cloneTemplate(extraParams);","\t\t","\t\tif (options.limit && (options.limit - 3) < clones.length) {","\t\t\tplus.hide();","\t\t}","\t\t","\t\tclones.push(clone);","\t\t","\t\tnormalizeClone(clone, clones.length);","\t\t","\t\tdynamiseSubClones(clone);","\t}","\t/**","\t * Handle click on minus when minus element is inside the template","\t * @param {Object} event","\t */","\tfunction innerClickOnMinus(event){","\t\tevent.preventDefault();","\t\t","\t\tif (this.removableClone.effect && options.removeColor) {","\t\t\tthat = this;","\t\t\tthis.removableClone.effect(\"highlight\", {","\t\t\t\tcolor: options.removeColor","\t\t\t}, options.duration, function(){that.removableClone.remove();});","\t\t} else {","\t\t","\t\t\tthis.removableClone.remove();","\t\t}","","\t\tremovableCloneId = this.removableClone.attr('id');","\t\t","\t\tcheckId = $.inArray(parseInt(removableCloneId[removableCloneId.length -1]), subDynamicIndex);","\t\tsubDynamicIndex.splice(checkId, 1);","","\t\tclones.splice($.inArray(this.removableClone, clones),1);","","\t\tif ($(selectedTarget).length) {","\t\t\tif (clones.length === 0){","\t\t\t\tsource.find(plusSelector).show();","\t\t\t\tsource.find(minusSelector).hide();","\t\t\t}else{","\t\t\t\tclones[clones.length -1].find(plusSelector).show();","\t\t\t}","\t\t} else {","\t\t\tif (clones.length === 1){","\t\t\t\tclones[0].find(plusSelector).show();","\t\t\t\tclones[0].find(minusSelector).hide();","\t\t\t}else{","\t\t\t\tclones[clones.length -1].find(plusSelector).show();","\t\t\t}","\t\t}","\t}","\t","\t/**","\t * Handle click on minus when minus element is outside the template","\t * @param {Object} event","\t */","\tfunction outerClickOnMinus(event){","\t\tevent.preventDefault();","\t\tvar clone = clones.pop();","\t\tif (clones.length >= 0) {","\t\t\tif (clone.effect && options.removeColor) {","\t\t\t\tthat = this;","\t\t\t\tclone.effect(\"highlight\", {","\t\t\t\t\tcolor: options.removeColor, mode:\"hide\"","\t\t\t\t}, options.duration, function(){clone.remove();});","\t\t\t} else {","\t\t\t\tclone.remove();","\t\t\t}","\t\t}","\t\tif (clones.length === 0) {","\t\t\tminus.hide();","\t\t}","\t\tplus.show();","\t}","\t","\t/**","\t * Normalize ids and name attributes of all children forms fields of an element","\t * @param {Object} elmnt","\t */","\tfunction normalizeSource(elmnt, prefix, index){","\t\telmnt.find(formFields).each(function(){","\t\t\tvar that = $(this), ","\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\torigNameAttr = that.attr(\"origname\"),","\t\t\tidAttr = that.attr(\"id\"),","\t\t\torigId = that.attr(\"origid\");","","\t\t\t/* Normalize field name attributes */","\t\t\tif (!nameAttr) {","\t\t\t\t//TODO: that.attr(\"name\", formPrefix+\"form\"+index + \"[\"+index+\"]\");","\t\t\t}","\t\t\t","\t\t\tif(origNameAttr){","\t\t\t\t//This is a subform (thus prefix is not the same as below)","\t\t\t\tthat.attr(\"name\", prefix+\"[\"+index+\"]\"+\"[\"+origNameAttr+\"]\");","\t\t\t}else{","\t\t\t\t//This is the main form","\t\t\t\tthat.attr(\"origname\", nameAttr);","\t\t\t\t","\t\t\t\t//This is the main normalization","\t\t\t\tthat.attr(\"name\", prefix+\"[\"+index+\"]\"+\"[\"+nameAttr+\"]\");","\t\t\t}","\t\t\t","\t\t\t/* Normalize field id attributes */","\t\t\tif (idAttr) {","\t\t\t\t/* Normalize attached label */","\t\t\t\tthat.attr(\"origid\", idAttr);","\t\t\t\t$(\"label[for='\"+idAttr+\"']\").each(function(){","\t\t\t\t\t$(this).attr(\"origfor\", idAttr);","\t\t\t\t\t$(this).attr(\"for\", idAttr + index);","\t\t\t\t});","\t\t\t\tthat.attr(\"id\", idAttr + index);","\t\t\t}","\t\t});","\t}","\t","\tfunction normalizeClone(elmnt, index){","\t\tvar match, matchRegEx = /(.+\\[[^\\[\\]]+\\]\\[)(\\d+)(\\]\\[[^\\[\\]]+\\])$/;","\t\telmnt.find(formFields).each(function(){","\t\t\tvar that = $(this),","\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\torigNameAttr = that.attr(\"origname\"),","\t\t\tidAttr = that.attr(\"id\"),","\t\t\tnewIdAttr = idAttr.slice(0,-1) + index,","\t\t\tmatch = matchRegEx.exec(nameAttr);","\t\t\tthat.attr(\"name\", match[1]+index+match[3]);","\t\t\t","\t\t\tif (idAttr) {","\t\t\t\tthat.attr(\"origid\", idAttr);","\t\t\t\t","\t\t\t\telmnt.find(\"label[for='\"+idAttr+\"']\").each(function(){","\t\t\t\t\t$(this).attr(\"for\", newIdAttr);","\t\t\t\t});","\t\t\t\tthat.attr(\"id\", newIdAttr);","\t\t\t}","\t\t});","\t}","\t","\tfunction normalizeSubClone(elmnt, formPrefix, index){","\t\tvar match, matchRegEx = /(.+)\\[([^\\[\\]]+)\\]$/;","\t\telmnt.find(formFields).each(function(){","\t\t\tvar that = $(this),","\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\tidAttr = that.attr(\"id\"),","\t\t\tnewIdAttr = idAttr + index,","\t\t\tmatch = matchRegEx.exec(nameAttr);","\t\t\tthat.attr(\"name\", match[1]+\"[\"+formPrefix+\"]\"+\"[\"+index+\"]\"+\"[\"+match[2]+\"]\");","\t\t\t","\t\t\tif (idAttr) {","\t\t\t\tthat.attr(\"origid\", idAttr);","\t\t\t\t","\t\t\t\telmnt.find(\"label[for='\"+idAttr+\"']\").each(function(){","\t\t\t\t\t$(this).attr(\"for\", newIdAttr);","\t\t\t\t});","\t\t\t\tthat.attr(\"id\", newIdAttr);","\t\t\t}","\t\t});","\t}","\t","\t//Add a function to enable sub dynamic forms to register themselves","\tsource.each(function(){","\t\t$.extend(this, {","\t\t\taddSubDynamicForm : function(dynamicForm){","\t\t\t\tsubDynamicForm.push(dynamicForm);","\t\t\t},","\t\t\tgetFormPrefix : function(){","\t\t\t\treturn formPrefix;","\t\t\t},","\t\t\tgetSource : function(){","\t\t\t\treturn source;","\t\t\t}","\t\t});","\t});","\t","\t//Check if this dynamic form is a sub dynamic form","\tvar isMainForm = true;","\t$(this).parentsUntil(\"body\").each(function(){","\t\tif($.isFunction(this.addSubDynamicForm) && !options.isSubDynamicForm){","\t\t\tisMainForm = false;","\t\t\toptions.isSubDynamicForm = true;","\t\t\t","\t\t\tvar suboptions = $.extend(","\t\t\t\t{","\t\t\t\t\tinternalSubDynamicForm:true, ","\t\t\t\t\tinternalContainer:this","\t\t\t\t}, options);","\t\t\tthis.addSubDynamicForm(source);","\t\t\tformPrefix = this.getFormPrefix()+\"[0][\"+formPrefix+\"]\";","\t\t\treturn false;","\t\t}","\t});","\tif(isMainForm && !options.isInAClone){","\t\t//Main form name and prefix for the main form are the same for now","\t\tformPrefix = formPrefix+\"[\"+formPrefix+\"]\";","\t}","\t","\tif(!options.isInAClone){","\t\tnormalizeSource(source, formPrefix, 0);","\t}else{","\t\tformPrefix = formPrefix || options.selector.replace(/\\W/g, \"\");","\t\t//Main form name and prefix for the main form are the same for now","\t\tnormalizeSubClone(source, formPrefix, 0);","\t}","\tif(isMainForm && options.normalizeFullForm && !options.isInAClone){","\t\t//Normalize all forms outside duplicated template in order to ease server-side parsing","\t\t$(this).parentsUntil(\"form\").each(function(){","\t\t\tvar theForm = $(this).parent().get(0);","\t\t\t$(theForm).find(formFields).filter(\"[type!=submit]\").each(function(){","\t\t\t\tvar that = $(this), ","\t\t\t\tnameAttr = that.attr(\"name\"), ","\t\t\t\torigNameAttr = that.attr(\"origname\"),","\t\t\t\tidAttr = that.attr(\"id\"),","\t\t\t\torigId = that.attr(\"origid\");","\t\t\t\t","\t\t\t\tif(!origNameAttr){","\t\t\t\t\t// Normalize field name attributes","\t\t\t\t\tif (!nameAttr) {","\t\t\t\t\t\t//TODO: that.attr(\"name\", formPrefix+\"form\"+index + \"[\"+index+\"]\");","\t\t\t\t\t}","","\t\t\t\t\t//It's the main form","\t\t\t\t\tthat.attr(\"origname\", nameAttr);","\t\t\t\t\t","\t\t\t\t\t//This is the main normalization","\t\t\t\t\tthat.attr(\"name\", formPrefix+\"[\"+nameAttr+\"]\");","\t\t\t\t}","\t\t\t});","\t\t\t","\t\t});","\t}","\t","\tisPlusDescendentOfTemplate = source.find(\"*\").filter(function(){","\t\treturn this == plus.get(0);","\t});","\t","\tisPlusDescendentOfTemplate = isPlusDescendentOfTemplate.length > 0 ? true : false;","\t","\t/* Hide minus element */","\tminus.hide();","\t","\t/* If plus element is within the template */","\tif (isPlusDescendentOfTemplate) {","\t\t/* Handle click on plus */","\t\tplus.click(innerClickOnPlus);","\t\t","\t}else{","\t/* If plus element is out of the template */","\t\t/* Handle click on plus */","\t\tplus.click(outerClickOnPlus);","\t\t","\t\t/* Handle click on minus */","\t\tminus.click(outerClickOnMinus);","\t}","\t","\t$.extend( source, {","\t\tgetPlus : function(){","\t\t\treturn plus;","\t\t},","\t\tgetPlusSelector : function(){","\t\t\treturn plusSelector;","\t\t},","\t\tgetMinus : function(){","\t\t\treturn minus;","\t\t},","\t\tgetMinusSelector : function(){","\t\t\treturn minusSelector;","\t\t},","\t\tgetOptions : function(){","\t\t\treturn options;","\t\t},","\t\tgetClones : function(){","\t\t\tvar clonesAndSource = [source];","\t\t\treturn clonesAndSource.concat(clones);","\t\t},","\t\tgetSource : function(){","\t\t\treturn source;","\t\t},","\t\tinject : function(data){","\t\t\t/**","\t\t\t * Fill data of each main dynamic form clones","\t\t\t * @param {Object} formIndex","\t\t\t * @param {Object} formValue","\t\t\t */","\t\t\t var z = 0;","\t\t\tfunction fillData(formIndex, formValue){","\t\t\t\t//Loop over data form array (each item will match a specific clone)","\t\t\t\tvar mainForm = this;","\t\t\t\t//Shows required additional dynamic forms","\t\t\t\tif(formIndex > 0){","\t\t\t\t\tindex = formIndex - 1;","\t\t\t\t\tmainForm.getSource().getPlus().trigger(\"click\", [\"disableEffect\"]);","\t\t\t\t\tif (z === 0) {","\t\t\t\t\t\tmainForm.get(0).getSource().remove()\t\t\t\t\t\t","\t\t\t\t\t\tmainForm.get(0).getSource().getClones()[1].find(minusSelector).hide()","\t\t\t\t\t}","\t\t\t\t}","","\t\t\t\tvar newArray = mainForm.get(0).getSource().getClones();","\t\t\t\tvar changeArray = [];","\t\t\t\tfor (var i = 0; i < newArray.length; i++) {","\t\t\t\t\t$.each(data, function(key, value){","\t\t\t\t\t\tchangeArray[key] =  newArray[i]","\t\t\t\t\t})","\t\t\t\t}","","\t\t\t\tvar clone = changeArray[formIndex];","\t\t\t\t$.each(formValue, function(index, value){","\t\t\t\t\tif($.isArray(value)){","\t\t\t\t\t\tmainForm = clone.find(\"#\"+index);","\t\t\t\t\t\tif(typeof mainForm.get(0).getSource === \"function\"){","\t\t\t\t\t\t\t$.each(value, $.proxy( fillData, mainForm.get(0).getSource()));","\t\t\t\t\t\t}","","\t\t\t\t\t}else{","\t\t\t\t\t\tvar formElements = changeArray[formIndex].find(\"[origname='\"+index+\"']\");","\t\t\t\t\t\tif(formElements){","\t\t\t\t\t\t\tif(formElements.get(0).tagName.toLowerCase() == \"input\"){","\t\t\t\t\t\t\t\t/* Fill in radio input */","\t\t\t\t\t\t\t\tif(formElements.attr(\"type\") == \"radio\"){","\t\t\t\t\t\t\t\t\tformElements.filter(\"[value='\"+value+\"']\").attr(\"checked\", \"checked\");","\t\t\t\t\t\t\t\t}else if(formElements.attr(\"type\") == \"checkbox\"){/* Fill in checkbox input */","\t\t\t\t\t\t\t\t\tformElements.attr(\"checked\", \"checked\");","\t\t\t\t\t\t\t\t}else{","\t\t\t\t\t\t\t\t\tformElements.attr(\"value\", value);","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t}else if(formElements.get(0).tagName.toLowerCase() == \"textarea\"){","\t\t\t\t\t\t\t\t/* Fill in textarea */","\t\t\t\t\t\t\t\tformElements.text(value);","\t\t\t\t\t\t\t}else if(formElements.get(0).tagName.toLowerCase() == \"select\"){","\t\t\t\t\t\t\t\t/* Fill in select */","\t\t\t\t\t\t\t\t$(formElements.get(0)).find(\"option\").each(function(){","\t\t\t\t\t\t\t\t\tif($(this).text() == value || $(this).attr(\"value\") == value){","\t\t\t\t\t\t\t\t\t\t$(this).attr(\"selected\", \"selected\");","\t\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\t});","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t}","\t\t\t\t});","\t\t\t\tz++;","\t\t\t}","\t\t\t//Loop over each form","\t\t\t$.each(data, $.proxy( fillData, source ));","\t\t}","\t});","\t","\ttemplate = source.cloneWithAttribut(true);","\t","\tif(options.data){","\t\tsource.inject(options.data);","\t}","\t","\treturn source;","};","","/**"," * jQuery original clone method decorated in order to fix an IE < 8 issue"," * where attributs especially name are not copied "," */","jQuery.fn.cloneWithAttribut = function( withDataAndEvents ){","\tif ( jQuery.support.noCloneEvent ){","\t\treturn $(this).clone(withDataAndEvents);","\t}else{","\t\t$(this).find(\"*\").each(function(){","\t\t\t$(this).data(\"name\", $(this).attr(\"name\"));","\t\t});","\t\tvar clone = $(this).clone(withDataAndEvents);","\t\t","\t\tclone.find(\"*\").each(function(){","\t\t\t$(this).attr(\"name\", $(this).data(\"name\"));","\t\t});","\t\t","\t\treturn clone;","\t}","};","})(jQuery);"],"id":11},{"start":{"row":0,"column":0},"end":{"row":158,"column":11},"action":"insert","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    \"use strict\";","","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCount',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlus\" class=\"btnPlus\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefix + '\" name=\"' + this.id + options.countFieldPrefix + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            if(!options.styleOverride) {","              btnPlus.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"img/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" class=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                if(!options.styleOverride) {","                  btnMinus.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"img/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","})(jQuery);"]}],[{"start":{"row":53,"column":44},"end":{"row":53,"column":55},"action":"remove","lines":["img/add.png"],"id":12},{"start":{"row":53,"column":44},"end":{"row":53,"column":65},"action":"insert","lines":["/static/media/add.png"]}],[{"start":{"row":124,"column":48},"end":{"row":124,"column":62},"action":"remove","lines":["img/remove.png"],"id":13},{"start":{"row":124,"column":48},"end":{"row":124,"column":72},"action":"insert","lines":["/static/media/remove.png"]}],[{"start":{"row":47,"column":51},"end":{"row":48,"column":0},"action":"insert","lines":["",""],"id":14},{"start":{"row":48,"column":0},"end":{"row":48,"column":12},"action":"insert","lines":["            "]},{"start":{"row":48,"column":12},"end":{"row":49,"column":0},"action":"insert","lines":["",""]},{"start":{"row":49,"column":0},"end":{"row":49,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":49,"column":12},"end":{"row":52,"column":51},"action":"insert","lines":["var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");"],"id":15}],[{"start":{"row":49,"column":43},"end":{"row":49,"column":48},"action":"remove","lines":["first"],"id":16},{"start":{"row":49,"column":43},"end":{"row":49,"column":44},"action":"insert","lines":["s"]},{"start":{"row":49,"column":44},"end":{"row":49,"column":45},"action":"insert","lines":["e"]},{"start":{"row":49,"column":45},"end":{"row":49,"column":46},"action":"insert","lines":["c"]},{"start":{"row":49,"column":46},"end":{"row":49,"column":47},"action":"insert","lines":["o"]},{"start":{"row":49,"column":47},"end":{"row":49,"column":48},"action":"insert","lines":["n"]}],[{"start":{"row":49,"column":48},"end":{"row":49,"column":49},"action":"insert","lines":["d"],"id":17}],[{"start":{"row":48,"column":12},"end":{"row":49,"column":0},"action":"insert","lines":["",""],"id":18},{"start":{"row":49,"column":0},"end":{"row":49,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":49,"column":12},"end":{"row":49,"column":30},"action":"insert","lines":["obj.before(count);"],"id":19}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":30},"action":"remove","lines":["            obj.before(count);"],"id":20},{"start":{"row":48,"column":12},"end":{"row":49,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":49,"column":25},"end":{"row":49,"column":26},"action":"insert","lines":["t"],"id":21},{"start":{"row":49,"column":26},"end":{"row":49,"column":27},"action":"insert","lines":["w"]},{"start":{"row":49,"column":27},"end":{"row":49,"column":28},"action":"insert","lines":["o"]}],[{"start":{"row":51,"column":31},"end":{"row":51,"column":32},"action":"insert","lines":["t"],"id":22},{"start":{"row":51,"column":32},"end":{"row":51,"column":33},"action":"insert","lines":["w"]},{"start":{"row":51,"column":33},"end":{"row":51,"column":34},"action":"insert","lines":["o"]}],[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"insert","lines":["#"],"id":24}],[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"remove","lines":["#"],"id":25}],[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"insert","lines":["#"],"id":26},{"start":{"row":50,"column":12},"end":{"row":50,"column":13},"action":"insert","lines":["#"]},{"start":{"row":50,"column":13},"end":{"row":50,"column":14},"action":"insert","lines":["#"]},{"start":{"row":50,"column":14},"end":{"row":50,"column":15},"action":"insert","lines":["#"]}],[{"start":{"row":50,"column":14},"end":{"row":50,"column":15},"action":"remove","lines":["#"],"id":27},{"start":{"row":50,"column":13},"end":{"row":50,"column":14},"action":"remove","lines":["#"]},{"start":{"row":50,"column":12},"end":{"row":50,"column":13},"action":"remove","lines":["#"]},{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"remove","lines":["#"]}],[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"insert","lines":["!"],"id":28},{"start":{"row":50,"column":12},"end":{"row":50,"column":13},"action":"insert","lines":["!"]},{"start":{"row":50,"column":13},"end":{"row":50,"column":14},"action":"insert","lines":["!"]}],[{"start":{"row":50,"column":13},"end":{"row":50,"column":14},"action":"remove","lines":["!"],"id":29},{"start":{"row":50,"column":12},"end":{"row":50,"column":13},"action":"remove","lines":["!"]},{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"remove","lines":["!"]}],[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"insert","lines":["/"],"id":30},{"start":{"row":50,"column":12},"end":{"row":50,"column":13},"action":"insert","lines":["/"]}],[{"start":{"row":49,"column":11},"end":{"row":49,"column":12},"action":"insert","lines":["/"],"id":31},{"start":{"row":49,"column":12},"end":{"row":49,"column":13},"action":"insert","lines":["/"]}],[{"start":{"row":51,"column":11},"end":{"row":51,"column":12},"action":"insert","lines":["/"],"id":32},{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"insert","lines":["/"]}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":13},"action":"insert","lines":["/"],"id":33},{"start":{"row":52,"column":13},"end":{"row":52,"column":14},"action":"insert","lines":["/"]}],[{"start":{"row":48,"column":1},"end":{"row":52,"column":53},"action":"remove","lines":["           ","           // var recordsettwo = obj.children(\"#second\");","           // obj.after(divPlus);","           // var set = recordsettwo.children(\".recordset\").children().first();","            //var btnPlus = obj.siblings(\"#btnPlus\");"],"id":85},{"start":{"row":48,"column":0},"end":{"row":48,"column":1},"action":"remove","lines":[" "]},{"start":{"row":47,"column":51},"end":{"row":48,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":157,"column":6},"end":{"row":158,"column":0},"action":"insert","lines":["",""],"id":86},{"start":{"row":158,"column":0},"end":{"row":158,"column":4},"action":"insert","lines":["    "]},{"start":{"row":158,"column":4},"end":{"row":159,"column":0},"action":"insert","lines":["",""]},{"start":{"row":159,"column":0},"end":{"row":159,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":160,"column":11},"end":{"row":161,"column":0},"action":"insert","lines":["",""],"id":89},{"start":{"row":161,"column":0},"end":{"row":162,"column":0},"action":"insert","lines":["",""]},{"start":{"row":162,"column":0},"end":{"row":163,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":163,"column":0},"end":{"row":314,"column":11},"action":"insert","lines":["(function ($, undefined) {","    \"use strict\";","","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCount',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlus\" class=\"btnPlus\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefix + '\" name=\"' + this.id + options.countFieldPrefix + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            if(!options.styleOverride) {","              btnPlus.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"/static/media/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" class=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                if(!options.styleOverride) {","                  btnMinus.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"/static/media/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","    ","    ","})(jQuery);"],"id":90}],[{"start":{"row":166,"column":15},"end":{"row":166,"column":16},"action":"insert","lines":["t"],"id":91},{"start":{"row":166,"column":16},"end":{"row":166,"column":17},"action":"insert","lines":["w"]},{"start":{"row":166,"column":17},"end":{"row":166,"column":18},"action":"insert","lines":["o"]}],[{"start":{"row":194,"column":36},"end":{"row":194,"column":43},"action":"remove","lines":["btnPlus"],"id":92},{"start":{"row":194,"column":36},"end":{"row":194,"column":46},"action":"insert","lines":["btnPlustwo"]}],[{"start":{"row":194,"column":55},"end":{"row":194,"column":62},"action":"remove","lines":["btnPlus"],"id":93},{"start":{"row":194,"column":55},"end":{"row":194,"column":65},"action":"insert","lines":["btnPlustwo"]}],[{"start":{"row":201,"column":16},"end":{"row":201,"column":23},"action":"remove","lines":["btnPlus"],"id":94},{"start":{"row":201,"column":16},"end":{"row":201,"column":26},"action":"insert","lines":["btnPlustwo"]}],[{"start":{"row":201,"column":44},"end":{"row":201,"column":51},"action":"remove","lines":["btnPlus"],"id":95},{"start":{"row":201,"column":44},"end":{"row":201,"column":54},"action":"insert","lines":["btnPlustwo"]}],[{"start":{"row":204,"column":14},"end":{"row":204,"column":21},"action":"remove","lines":["btnPlus"],"id":96},{"start":{"row":204,"column":14},"end":{"row":204,"column":24},"action":"insert","lines":["btnPlustwo"]}],[{"start":{"row":217,"column":31},"end":{"row":217,"column":38},"action":"remove","lines":["btnPlus"],"id":97},{"start":{"row":217,"column":31},"end":{"row":217,"column":41},"action":"insert","lines":["btnPlustwo"]}],[{"start":{"row":275,"column":18},"end":{"row":275,"column":26},"action":"remove","lines":["btnMinus"],"id":98},{"start":{"row":275,"column":18},"end":{"row":275,"column":29},"action":"insert","lines":["btnMinustwo"]}],[{"start":{"row":289,"column":40},"end":{"row":289,"column":48},"action":"remove","lines":["btnMinus"],"id":99},{"start":{"row":289,"column":40},"end":{"row":289,"column":51},"action":"insert","lines":["btnMinustwo"]}],[{"start":{"row":271,"column":41},"end":{"row":271,"column":49},"action":"remove","lines":["btnMinus"],"id":100},{"start":{"row":271,"column":41},"end":{"row":271,"column":52},"action":"insert","lines":["btnMinustwo"]}],[{"start":{"row":271,"column":61},"end":{"row":271,"column":69},"action":"remove","lines":["btnMinus"],"id":101},{"start":{"row":271,"column":61},"end":{"row":271,"column":72},"action":"insert","lines":["btnMinustwo"]}],[{"start":{"row":273,"column":20},"end":{"row":273,"column":28},"action":"remove","lines":["btnMinus"],"id":102},{"start":{"row":273,"column":20},"end":{"row":273,"column":31},"action":"insert","lines":["btnMinustwo"]}],[{"start":{"row":273,"column":66},"end":{"row":273,"column":67},"action":"insert","lines":["t"],"id":103},{"start":{"row":273,"column":67},"end":{"row":273,"column":68},"action":"insert","lines":["w"]},{"start":{"row":273,"column":68},"end":{"row":273,"column":69},"action":"insert","lines":["o"]}],[{"start":{"row":198,"column":43},"end":{"row":198,"column":48},"action":"remove","lines":["first"],"id":104},{"start":{"row":198,"column":43},"end":{"row":198,"column":44},"action":"insert","lines":["s"]},{"start":{"row":198,"column":44},"end":{"row":198,"column":45},"action":"insert","lines":["e"]},{"start":{"row":198,"column":45},"end":{"row":198,"column":46},"action":"insert","lines":["c"]},{"start":{"row":198,"column":46},"end":{"row":198,"column":47},"action":"insert","lines":["o"]},{"start":{"row":198,"column":47},"end":{"row":198,"column":48},"action":"insert","lines":["n"]},{"start":{"row":198,"column":48},"end":{"row":198,"column":49},"action":"insert","lines":["d"]}],[{"start":{"row":200,"column":52},"end":{"row":200,"column":53},"action":"insert","lines":["t"],"id":132},{"start":{"row":200,"column":53},"end":{"row":200,"column":54},"action":"insert","lines":["w"]},{"start":{"row":200,"column":54},"end":{"row":200,"column":55},"action":"insert","lines":["o"]}],[{"start":{"row":189,"column":0},"end":{"row":189,"column":4},"action":"insert","lines":["    "],"id":133}],[{"start":{"row":189,"column":4},"end":{"row":189,"column":8},"action":"insert","lines":["    "],"id":134}],[{"start":{"row":189,"column":8},"end":{"row":189,"column":9},"action":"insert","lines":["v"],"id":135},{"start":{"row":189,"column":9},"end":{"row":189,"column":10},"action":"insert","lines":["a"]},{"start":{"row":189,"column":10},"end":{"row":189,"column":11},"action":"insert","lines":["r"]}],[{"start":{"row":189,"column":11},"end":{"row":189,"column":12},"action":"insert","lines":[" "],"id":136},{"start":{"row":189,"column":12},"end":{"row":189,"column":13},"action":"insert","lines":["n"]},{"start":{"row":189,"column":13},"end":{"row":189,"column":14},"action":"insert","lines":["u"]},{"start":{"row":189,"column":14},"end":{"row":189,"column":15},"action":"insert","lines":["m"]},{"start":{"row":189,"column":15},"end":{"row":189,"column":16},"action":"insert","lines":["b"]},{"start":{"row":189,"column":16},"end":{"row":189,"column":17},"action":"insert","lines":["e"]},{"start":{"row":189,"column":17},"end":{"row":189,"column":18},"action":"insert","lines":["r"]}],[{"start":{"row":189,"column":18},"end":{"row":189,"column":19},"action":"insert","lines":[" "],"id":137},{"start":{"row":189,"column":19},"end":{"row":189,"column":20},"action":"insert","lines":["="]}],[{"start":{"row":189,"column":20},"end":{"row":189,"column":21},"action":"insert","lines":[" "],"id":138}],[{"start":{"row":189,"column":21},"end":{"row":189,"column":22},"action":"insert","lines":["n"],"id":139},{"start":{"row":189,"column":22},"end":{"row":189,"column":23},"action":"insert","lines":["u"]},{"start":{"row":189,"column":23},"end":{"row":189,"column":24},"action":"insert","lines":["m"]},{"start":{"row":189,"column":24},"end":{"row":189,"column":25},"action":"insert","lines":["b"]},{"start":{"row":189,"column":25},"end":{"row":189,"column":26},"action":"insert","lines":["e"]},{"start":{"row":189,"column":26},"end":{"row":189,"column":27},"action":"insert","lines":["r"]}],[{"start":{"row":189,"column":27},"end":{"row":189,"column":28},"action":"insert","lines":[" "],"id":140},{"start":{"row":189,"column":28},"end":{"row":189,"column":29},"action":"insert","lines":["+"]},{"start":{"row":189,"column":29},"end":{"row":189,"column":30},"action":"insert","lines":["1"]}],[{"start":{"row":189,"column":30},"end":{"row":189,"column":31},"action":"insert","lines":[";"],"id":141}],[{"start":{"row":189,"column":8},"end":{"row":189,"column":31},"action":"remove","lines":["var number = number +1;"],"id":149},{"start":{"row":189,"column":4},"end":{"row":189,"column":8},"action":"remove","lines":["    "]},{"start":{"row":189,"column":0},"end":{"row":189,"column":4},"action":"remove","lines":["    "]},{"start":{"row":188,"column":11},"end":{"row":189,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":188,"column":11},"end":{"row":189,"column":0},"action":"insert","lines":["",""],"id":150},{"start":{"row":189,"column":0},"end":{"row":189,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":37,"column":38},"end":{"row":38,"column":0},"action":"insert","lines":["",""],"id":152},{"start":{"row":38,"column":0},"end":{"row":38,"column":12},"action":"insert","lines":["            "]},{"start":{"row":38,"column":12},"end":{"row":38,"column":13},"action":"insert","lines":["v"]}],[{"start":{"row":38,"column":13},"end":{"row":38,"column":14},"action":"insert","lines":["a"],"id":153},{"start":{"row":38,"column":14},"end":{"row":38,"column":15},"action":"insert","lines":["r"]}],[{"start":{"row":38,"column":15},"end":{"row":38,"column":16},"action":"insert","lines":[" "],"id":154}],[{"start":{"row":38,"column":16},"end":{"row":38,"column":17},"action":"insert","lines":["a"],"id":155},{"start":{"row":38,"column":17},"end":{"row":38,"column":18},"action":"insert","lines":["r"]},{"start":{"row":38,"column":18},"end":{"row":38,"column":19},"action":"insert","lines":["r"]},{"start":{"row":38,"column":19},"end":{"row":38,"column":20},"action":"insert","lines":["a"]},{"start":{"row":38,"column":20},"end":{"row":38,"column":21},"action":"insert","lines":["y"]}],[{"start":{"row":38,"column":21},"end":{"row":38,"column":22},"action":"insert","lines":[" "],"id":156},{"start":{"row":38,"column":22},"end":{"row":38,"column":23},"action":"insert","lines":["="]}],[{"start":{"row":38,"column":23},"end":{"row":38,"column":24},"action":"insert","lines":[" "],"id":157}],[{"start":{"row":38,"column":24},"end":{"row":38,"column":26},"action":"insert","lines":["[]"],"id":158}],[{"start":{"row":38,"column":26},"end":{"row":39,"column":0},"action":"insert","lines":["",""],"id":159},{"start":{"row":39,"column":0},"end":{"row":39,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":39,"column":12},"end":{"row":43,"column":1},"action":"insert","lines":["function guardarNumeros() {","  boxvalue = document.getElementById('box').value;","  items.push(boxvalue);  ","  console.log(items);","}"],"id":160}],[{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "],"id":161},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "],"id":162},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "],"id":163},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":39,"column":21},"end":{"row":39,"column":35},"action":"remove","lines":["guardarNumeros"],"id":164},{"start":{"row":39,"column":21},"end":{"row":39,"column":22},"action":"insert","lines":["a"]},{"start":{"row":39,"column":22},"end":{"row":39,"column":23},"action":"insert","lines":["d"]},{"start":{"row":39,"column":23},"end":{"row":39,"column":24},"action":"insert","lines":["d"]}],[{"start":{"row":39,"column":24},"end":{"row":39,"column":25},"action":"insert","lines":["t"],"id":165},{"start":{"row":39,"column":25},"end":{"row":39,"column":26},"action":"insert","lines":["o"]}],[{"start":{"row":39,"column":25},"end":{"row":39,"column":26},"action":"remove","lines":["o"],"id":166},{"start":{"row":39,"column":24},"end":{"row":39,"column":25},"action":"remove","lines":["t"]}],[{"start":{"row":39,"column":24},"end":{"row":39,"column":25},"action":"insert","lines":["T"],"id":167},{"start":{"row":39,"column":25},"end":{"row":39,"column":26},"action":"insert","lines":["o"]},{"start":{"row":39,"column":26},"end":{"row":39,"column":27},"action":"insert","lines":["A"]},{"start":{"row":39,"column":27},"end":{"row":39,"column":28},"action":"insert","lines":["r"]},{"start":{"row":39,"column":28},"end":{"row":39,"column":29},"action":"insert","lines":["r"]}],[{"start":{"row":39,"column":29},"end":{"row":39,"column":30},"action":"insert","lines":["a"],"id":168},{"start":{"row":39,"column":30},"end":{"row":39,"column":31},"action":"insert","lines":["y"]}],[{"start":{"row":40,"column":14},"end":{"row":40,"column":22},"action":"remove","lines":["boxvalue"],"id":169},{"start":{"row":40,"column":14},"end":{"row":40,"column":15},"action":"insert","lines":["m"]},{"start":{"row":40,"column":15},"end":{"row":40,"column":16},"action":"insert","lines":["y"]},{"start":{"row":40,"column":16},"end":{"row":40,"column":17},"action":"insert","lines":["a"]},{"start":{"row":40,"column":17},"end":{"row":40,"column":18},"action":"insert","lines":["r"]},{"start":{"row":40,"column":18},"end":{"row":40,"column":19},"action":"insert","lines":["r"]},{"start":{"row":40,"column":19},"end":{"row":40,"column":20},"action":"insert","lines":["a"]},{"start":{"row":40,"column":20},"end":{"row":40,"column":21},"action":"insert","lines":["y"]}],[{"start":{"row":40,"column":49},"end":{"row":40,"column":52},"action":"remove","lines":["box"],"id":170},{"start":{"row":40,"column":49},"end":{"row":40,"column":50},"action":"insert","lines":["t"]},{"start":{"row":40,"column":50},"end":{"row":40,"column":51},"action":"insert","lines":["o"]},{"start":{"row":40,"column":51},"end":{"row":40,"column":52},"action":"insert","lines":["o"]},{"start":{"row":40,"column":52},"end":{"row":40,"column":53},"action":"insert","lines":["l"]},{"start":{"row":40,"column":53},"end":{"row":40,"column":54},"action":"insert","lines":["s"]}],[{"start":{"row":41,"column":25},"end":{"row":41,"column":33},"action":"remove","lines":["boxvalue"],"id":171},{"start":{"row":41,"column":25},"end":{"row":41,"column":26},"action":"insert","lines":["m"]},{"start":{"row":41,"column":26},"end":{"row":41,"column":27},"action":"insert","lines":["y"]},{"start":{"row":41,"column":27},"end":{"row":41,"column":28},"action":"insert","lines":["a"]},{"start":{"row":41,"column":28},"end":{"row":41,"column":29},"action":"insert","lines":["r"]},{"start":{"row":41,"column":29},"end":{"row":41,"column":30},"action":"insert","lines":["r"]},{"start":{"row":41,"column":30},"end":{"row":41,"column":31},"action":"insert","lines":["a"]}],[{"start":{"row":41,"column":31},"end":{"row":41,"column":32},"action":"insert","lines":["y"],"id":172}],[{"start":{"row":42,"column":26},"end":{"row":42,"column":31},"action":"remove","lines":["items"],"id":173},{"start":{"row":42,"column":26},"end":{"row":42,"column":27},"action":"insert","lines":["a"]},{"start":{"row":42,"column":27},"end":{"row":42,"column":28},"action":"insert","lines":["r"]},{"start":{"row":42,"column":28},"end":{"row":42,"column":29},"action":"insert","lines":["r"]},{"start":{"row":42,"column":29},"end":{"row":42,"column":30},"action":"insert","lines":["a"]},{"start":{"row":42,"column":30},"end":{"row":42,"column":31},"action":"insert","lines":["y"]}],[{"start":{"row":38,"column":0},"end":{"row":44,"column":3},"action":"remove","lines":["            var array = []","            function addToArray() {","              myarray = document.getElementById('tools').value;","              items.push(myarray);  ","              console.log(array);","}","   "],"id":174}],[{"start":{"row":70,"column":68},"end":{"row":70,"column":69},"action":"insert","lines":["+"],"id":175},{"start":{"row":70,"column":69},"end":{"row":70,"column":70},"action":"insert","lines":["1"]}],[{"start":{"row":70,"column":69},"end":{"row":70,"column":70},"action":"remove","lines":["1"],"id":176},{"start":{"row":70,"column":68},"end":{"row":70,"column":69},"action":"remove","lines":["+"]}],[{"start":{"row":22,"column":28},"end":{"row":22,"column":29},"action":"insert","lines":["t"],"id":183},{"start":{"row":22,"column":29},"end":{"row":22,"column":30},"action":"insert","lines":["w"]},{"start":{"row":22,"column":30},"end":{"row":22,"column":31},"action":"insert","lines":["o"]}],[{"start":{"row":22,"column":52},"end":{"row":23,"column":0},"action":"insert","lines":["",""],"id":184},{"start":{"row":23,"column":0},"end":{"row":23,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":23,"column":12},"end":{"row":23,"column":52},"action":"insert","lines":["countFieldPrefixtwo: '_czMore_txtCount',"],"id":185}],[{"start":{"row":22,"column":30},"end":{"row":22,"column":31},"action":"remove","lines":["o"],"id":186},{"start":{"row":22,"column":29},"end":{"row":22,"column":30},"action":"remove","lines":["w"]},{"start":{"row":22,"column":28},"end":{"row":22,"column":29},"action":"remove","lines":["t"]}],[{"start":{"row":23,"column":50},"end":{"row":23,"column":51},"action":"insert","lines":["t"],"id":187},{"start":{"row":23,"column":51},"end":{"row":23,"column":52},"action":"insert","lines":["w"]},{"start":{"row":23,"column":52},"end":{"row":23,"column":53},"action":"insert","lines":["o"]}],[{"start":{"row":23,"column":30},"end":{"row":23,"column":31},"action":"remove","lines":["o"],"id":188},{"start":{"row":23,"column":29},"end":{"row":23,"column":30},"action":"remove","lines":["w"]},{"start":{"row":23,"column":28},"end":{"row":23,"column":29},"action":"remove","lines":["t"]}],[{"start":{"row":23,"column":12},"end":{"row":23,"column":52},"action":"remove","lines":["countFieldPrefix: '_czMore_txtCounttwo',"],"id":189},{"start":{"row":23,"column":8},"end":{"row":23,"column":12},"action":"remove","lines":["    "]},{"start":{"row":23,"column":4},"end":{"row":23,"column":8},"action":"remove","lines":["    "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":4},"action":"remove","lines":["    "]},{"start":{"row":22,"column":49},"end":{"row":23,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":176,"column":47},"end":{"row":176,"column":48},"action":"insert","lines":["t"],"id":190},{"start":{"row":176,"column":48},"end":{"row":176,"column":49},"action":"insert","lines":["w"]},{"start":{"row":176,"column":49},"end":{"row":176,"column":50},"action":"insert","lines":["o"]}],[{"start":{"row":195,"column":58},"end":{"row":195,"column":74},"action":"remove","lines":["countFieldPrefix"],"id":191},{"start":{"row":195,"column":58},"end":{"row":195,"column":77},"action":"insert","lines":["countFieldPrefixtwo"]}],[{"start":{"row":195,"column":111},"end":{"row":195,"column":127},"action":"remove","lines":["countFieldPrefix"],"id":192},{"start":{"row":195,"column":111},"end":{"row":195,"column":130},"action":"insert","lines":["countFieldPrefixtwo"]}],[{"start":{"row":237,"column":59},"end":{"row":237,"column":75},"action":"remove","lines":["countFieldPrefix"],"id":193},{"start":{"row":237,"column":59},"end":{"row":237,"column":78},"action":"insert","lines":["countFieldPrefixtwo"]}],[{"start":{"row":294,"column":59},"end":{"row":294,"column":75},"action":"remove","lines":["countFieldPrefix"],"id":194},{"start":{"row":294,"column":59},"end":{"row":294,"column":78},"action":"insert","lines":["countFieldPrefixtwo"]}],[{"start":{"row":0,"column":0},"end":{"row":314,"column":11},"action":"remove","lines":["/*","Title: Cozeit More plugin by Yasir Atabani","Documentation: na","Author: Yasir O. Atabani","Website: http://www.cozeit.com","Twitter: @yatabani","","MIT License, https://github.com/cozeit/czMore/blob/master/LICENSE.md","*/","(function ($, undefined) {","    \"use strict\";","","    $.fn.czMore = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCount',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","","        //Executing functionality on all selected elements","        return this.each(function () {","         var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlus\" class=\"btnPlus\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefix + '\" name=\"' + this.id + options.countFieldPrefix + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#first\");","            obj.after(divPlus);","            var set = recordset.children(\".recordset\").children().first();","            var btnPlus = obj.siblings(\"#btnPlus\");","","            if(!options.styleOverride) {","              btnPlus.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"/static/media/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlus\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinus\" class=\"btnMinus\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinus = $(recordset).children(\"#btnMinus\");","                if(!options.styleOverride) {","                  btnMinus.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"/static/media/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinus\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefix + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","    ","    ","})(jQuery);","","","(function ($, undefined) {","    \"use strict\";","","    $.fn.czMoretwo = function (options) {","","        //Set defauls for the control","        var defaults = {","            max: 50,","            min: 0,","            onLoad: null,","            onAdd: null,","            onDelete: null,","            styleOverride: false,","            countFieldPrefix: '_czMore_txtCounttwo',","        };","        //Update unset options with defaults if needed","        var options = $.extend(defaults, options);","        $(this).bind(\"onAdd\", function (event, data) {","            options.onAdd.call(event, data);","        });","        $(this).bind(\"onLoad\", function (event, data) {","            options.onLoad.call(event, data);","        });","        $(this).bind(\"onDelete\", function (event, data) {","            options.onDelete.call(event, data);","        });","        ","        //Executing functionality on all selected elements","        return this.each(function () {","            var obj = $(this);","            var i = recordsetCount();","            var divPlus = '<div id=\"btnPlustwo\" class=\"btnPlustwo\"/>';","            var count = '<input id=\"' + this.id + options.countFieldPrefixtwo + '\" name=\"' + this.id + options.countFieldPrefixtwo + '\" type=\"hidden\" value=\"0\" size=\"5\" />';","","            obj.before(count);","            var recordset = obj.children(\"#second\");","            obj.after(divPlus);","            var set = recordset.children(\".recordsettwo\").children().first();","            var btnPlustwo = obj.siblings(\"#btnPlustwo\");","","            if(!options.styleOverride) {","              btnPlustwo.css({","                  'float': 'right',","                  'border': '0px',","                  'background-image': 'url(\"/static/media/add.png\")',","                  'background-position': 'center center',","                  'background-repeat': 'no-repeat',","                  'height': '25px',","                  'width': '25px',","                  'cursor': 'pointer',","              });","            }","","            if (recordset.length) {","                obj.siblings(\"#btnPlustwo\").click(function () {","                    if (isMaxRecordset()){","                        return false;","                    }","                    var i = recordsetCount();","                    var item = recordset.clone().html();","                    i++;","                    item = item.replace(/\\[([0-9]\\d{0})\\]/g, \"[\" + i + \"]\");","                    item = item.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + i + \"_\");","                    //$(element).html(item);","                    //item = $(item).children().first();","                    //item = $(item).parent();","","                    obj.append(item);","                    loadMinus(obj.children().last());","                    minusClick(obj.children().last());","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", i);","                    }","","                    obj.siblings(\"input[name$='\" + options.countFieldPrefixtwo + \"']\").val(i);","                    return false;","                });","                recordset.remove();","                for (var j = 0; j <= i; j++) {","                    loadMinus(obj.children()[j]);","                    minusClick(obj.children()[j]);","                    if (options.onAdd != null) {","                        obj.trigger(\"onAdd\", j);","                    }","                }","","                if (options.onLoad != null) {","                    obj.trigger(\"onLoad\", i);","                }","                //obj.bind(\"onAdd\", function (event, data) {","                //If you had passed anything in your trigger function, you can grab it using the second parameter in the callback function.","                //});","            }","","            function resetNumbering() {","                $(obj).children(\".recordset\").each(function (index, element) {","                   $(element).find('input:text, input:password, input:file, select, textarea').each(function(){","                        var old_name = this.name;","                        var new_name = old_name.replace(/\\_([0-9]\\d{0})\\_/g, \"_\" + (index + 1) + \"_\");","                        this.id = this.name = new_name;","                        //alert(this.name);","                    });","                    index++","                    minusClick(element);","                });","            }","","            function loadMinus(recordset) {","                var divMinus = '<div id=\"btnMinustwo\" class=\"btnMinustwo\" />';","                $(recordset).children().first().before(divMinus);","                var btnMinustwo = $(recordset).children(\"#btnMinustwo\");","                if(!options.styleOverride) {","                  btnMinustwo.css({","                      'float': 'right',","                      'border': '0px',","                      'background-image': 'url(\"/static/media/remove.png\")',","                      'background-position': 'center center',","                      'background-repeat': 'no-repeat',","                      'height': '25px',","                      'width': '25px',","                      'cursor': 'poitnter',","                  });","              }","            }","","            function minusClick(recordset) {","                $(recordset).children(\"#btnMinustwo\").click(function () {","                    var i = recordsetCount();","                    var id = $(recordset).attr(\"data-id\")","                    $(recordset).remove();","                    resetNumbering();","                    obj.siblings(\"input[name$='\" + options.countFieldPrefixtwo + \"']\").val(obj.children(\".recordset\").length);","                    i--;","                    if (options.onDelete != null) {","                        if (id != null)","                            obj.trigger(\"onDelete\", id);","                    }","                });","            }","","            function recordsetCount(){","                return obj.children(\".recordset\").length;","            }","","            function isMaxRecordset(){","                return recordsetCount() >= options.max;","            }","        });","    };","    ","    ","})(jQuery);"],"id":195},{"start":{"row":0,"column":0},"end":{"row":85,"column":3},"action":"insert","lines":["$(function () {","    $('#btnAdd').click(function () {","        var num     = $('.clonedInput').length, // Checks to see how many \"duplicatable\" input fields we currently have","            newNum  = new Number(num + 1),      // The numeric ID of the new input field being added, increasing by 1 each time","            newElem = $('#entry' + num).clone().attr('id', 'entry' + newNum).fadeIn('slow'); // create the new element via clone(), and manipulate it's ID using newNum value","    ","    /*  This is where we manipulate the name/id values of the input inside the new, cloned element","        Below are examples of what forms elements you can clone, but not the only ones.","        There are 2 basic structures below: one for an H2, and one for form elements.","        To make more, you can copy the one for form elements and simply update the classes for its label and input.","        Keep in mind that the .val() method is what clears the element when it gets cloned. Radio and checkboxes need .val([]) instead of .val('').","    */","        // H2 - section","        newElem.find('.heading-reference').attr('id', 'ID' + newNum + '_reference').attr('name', 'ID' + newNum + '_reference').html('Entry #' + newNum);","","        // Title - select","        newElem.find('.label_ttl').attr('for', 'ID' + newNum + '_title');","        newElem.find('.select_ttl').attr('id', 'ID' + newNum + '_title').attr('name', 'ID' + newNum + '_title').val('');","","        // First name - text","        newElem.find('.label_fn').attr('for', 'ID' + newNum + '_first_name');","        newElem.find('.input_fn').attr('id', 'ID' + newNum + '_first_name').attr('name', 'ID' + newNum + '_first_name').val('');","","        // Last name - text","        newElem.find('.label_ln').attr('for', 'ID' + newNum + '_last_name');","        newElem.find('.input_ln').attr('id', 'ID' + newNum + '_last_name').attr('name', 'ID' + newNum + '_last_name').val('');","","        // Flavor - checkbox","        // Note that each input_checkboxitem has a unique identifier \"-0\". This helps pair up duplicated checkboxes and labels correctly. A bit verbose, at the moment.","        newElem.find('.label_checkboxitem').attr('for', 'ID' + newNum + '_checkboxitem');","        newElem.find('.input_checkboxitem-0').attr('id', 'ID' + newNum + '_checkboxitem-0').attr('name', 'ID' + newNum + '_checkboxitem').val([]);","        newElem.find('.input_checkboxitem-1').attr('id', 'ID' + newNum + '_checkboxitem-1').attr('name', 'ID' + newNum + '_checkboxitem').val([]);","        newElem.find('.input_checkboxitem-2').attr('id', 'ID' + newNum + '_checkboxitem-2').attr('name', 'ID' + newNum + '_checkboxitem').val([]);","        newElem.find('.input_checkboxitem-3').attr('id', 'ID' + newNum + '_checkboxitem-3').attr('name', 'ID' + newNum + '_checkboxitem').val([]);","","        // Flavor - checkbox labels","        // Note that each checkboxitem has a unique identifier \"-0\". This helps pair up duplicated checkboxes and labels correctly. A bit verbose, at the moment.","        newElem.find('.checkboxitem-0').attr('for', 'ID' + newNum + '_checkboxitem-0');","        newElem.find('.checkboxitem-1').attr('for', 'ID' + newNum + '_checkboxitem-1');","        newElem.find('.checkboxitem-2').attr('for', 'ID' + newNum + '_checkboxitem-2');","        newElem.find('.checkboxitem-3').attr('for', 'ID' + newNum + '_checkboxitem-3');","","        // Skate - radio","        newElem.find('.label_radio').attr('for', 'ID' + newNum + '_radioitem');","        newElem.find('.input_radio').attr('id', 'ID' + newNum + '_radioitem').attr('name', 'ID' + newNum + '_radioitem').val([]);","","        // Email - text","        newElem.find('.label_email').attr('for', 'ID' + newNum + '_email_address');","        newElem.find('.input_email').attr('id', 'ID' + newNum + '_email_address').attr('name', 'ID' + newNum + '_email_address').val('');","","        // Twitter handle (for Bootstrap demo) - append and text","        newElem.find('.label_twt').attr('for', 'ID' + newNum + '_twitter_handle');","        newElem.find('.input_twt').attr('id', 'ID' + newNum + '_twitter_handle').attr('name', 'ID' + newNum + '_twitter_handle').val('');","","    // Insert the new element after the last \"duplicatable\" input field","        $('#entry' + num).after(newElem);","        $('#ID' + newNum + '_title').focus();","","    // Enable the \"remove\" button. This only shows once you have a duplicated section.","        $('#btnDel').attr('disabled', false);","","    // Right now you can only add 4 sections, for a total of 5. Change '5' below to the max number of sections you want to allow.","        if (newNum == 5)","        $('#btnAdd').attr('disabled', true).prop('value', \"You've reached the limit\"); // value here updates the text in the 'add' button when the limit is reached ","    });","","    $('#btnDel').click(function () {","    // Confirmation dialog box. Works on all desktop browsers and iPhone.","        if (confirm(\"Are you sure you wish to remove this section? This cannot be undone.\"))","            {","                var num = $('.clonedInput').length;","                // how many \"duplicatable\" input fields we currently have","                $('#entry' + num).slideUp('slow', function () {$(this).remove();","                // if only one element remains, disable the \"remove\" button","                    if (num -1 === 1)","                $('#btnDel').attr('disabled', true);","                // enable the \"add\" button","                $('#btnAdd').attr('disabled', false).prop('value', \"add section\");});","            }","        return false; // Removes the last section you added","    });","    // Enable the \"add\" button","    $('#btnAdd').attr('disabled', false);","    // Disable the \"remove\" button","    $('#btnDel').attr('disabled', true);","});"]}]]},"ace":{"folds":[],"scrolltop":1016.625,"scrollleft":0,"selection":{"start":{"row":85,"column":3},"end":{"row":85,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":72,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1565617681885,"hash":"c5c154cb5bbac1e951edff17e1051af0c9085742"}